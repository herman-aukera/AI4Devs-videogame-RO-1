<!-- ¬© GG, MIT License -->
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="GG" />
    <title>Pacman - GG Edition</title>
    <meta name="description" content="Pacman retro arcade game - AI4Devs collection" />
    <meta name="keywords" content="game, retro, arcade, pacman, html5, canvas" />
    <meta name="theme-color" content="#00FFFF" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Pacman - GG Edition" />
    <meta property="og:description" content="Pacman retro arcade game" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
    
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Navegaci√≥n de retorno -->
    <nav class="game-navigation">
      <a href="../index.html" class="back-button">
        <span class="back-icon">‚¨Ö</span>
        <span class="back-text">INICIO</span>
      </a>
    </nav>

    <!-- Container principal del juego -->
    <main class="game-container">
      <header class="game-header">
        <h1 class="game-title">PACMAN</h1>
        <div class="game-subtitle">GG EDITION</div>
      </header>

      <!-- HUD del juego -->
      <section class="game-hud">
        <div class="hud-item">
          <span class="hud-label">SCORE</span>
          <span class="hud-value" id="score">0</span>
        </div>
        <div class="hud-item">
          <span class="hud-label">LEVEL</span>
          <span class="hud-value" id="level">1</span>
        </div>
        <div class="hud-item">
          <span class="hud-label">HIGH SCORE</span>
          <span class="hud-value" id="highScore">0</span>
        </div>
      </section>

      <!-- Canvas del juego -->
      <div class="game-canvas-container">
        <canvas id="gameCanvas" width="380" height="420"></canvas>
        
        <!-- Overlay para estados del juego -->
        <div class="game-overlay" id="gameOverlay">
          <div class="overlay-content">
            <h2 class="overlay-title" id="overlayTitle">GAME READY</h2>
            <p class="overlay-message" id="overlayMessage">Press ENTER to start</p>
            <button class="overlay-button" id="overlayButton">START GAME</button>
          </div>
        </div>
      </div>

      <!-- Controles m√≥viles -->
      <section class="mobile-controls" id="mobileControls">
        <div class="control-dpad">
          <button class="dpad-btn dpad-up" data-direction="up">‚Üë</button>
          <button class="dpad-btn dpad-left" data-direction="left">‚Üê</button>
          <button class="dpad-btn dpad-right" data-direction="right">‚Üí</button>
          <button class="dpad-btn dpad-down" data-direction="down">‚Üì</button>
        </div>
        <div class="control-actions">
          <button class="action-btn action-pause">‚è∏</button>
          <button class="action-btn action-restart">‚Üª</button>
        </div>
      </section>

      <!-- Panel de instrucciones -->
      <section class="instructions-panel" aria-label="Instrucciones del juego">
        <details class="instructions-details">
          <summary class="instructions-summary">
            <span class="summary-icon">‚ùì</span>
            <span class="summary-text">¬øC√≥mo jugar?</span>
          </summary>
          <div class="instructions-content">
            <div class="instruction-group">
              <h3 class="instruction-title">üéØ Objetivo</h3>
              <p>
                Recoge todas las p√≠ldoras evitando a los fantasmas. ‚ö†Ô∏è <strong>Solo el fantasma rojo (Blinky) est√° funcional</strong> - Los otros fantasmas est√°n en desarrollo.
              </p>
            </div>

            <div class="instruction-group">
              <h3 class="instruction-title">üïπÔ∏è Controles</h3>
              <div class="controls-grid">
                <div class="control-item">
                  <strong>Movimiento:</strong>
                  <span>Flechas ‚Üë ‚Üì ‚Üê ‚Üí o WASD</span>
                </div>
                <div class="control-item">
                  <strong>Inicio:</strong>
                  <span>ENTER para comenzar</span>
                </div>
                <div class="control-item">
                  <strong>Pausa:</strong>
                  <span>Barra Espaciadora</span>
                </div>
              </div>
            </div>

            <div class="instruction-group">
              <h3 class="instruction-title">üìà Estado del Juego</h3>
              <p>
                üöß <strong>Trabajo en Progreso:</strong> Este juego est√° en desarrollo activo. Solo el fantasma rojo funciona correctamente.
              </p>
            </div>
          </div>
        </details>
      </section>
    </main>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
      // Hacer que el bot√≥n START GAME funcione igual que Enter
      document.addEventListener('DOMContentLoaded', function() {
        const overlayButton = document.getElementById('overlayButton');
        if (overlayButton) {
          overlayButton.addEventListener('click', function() {
            // Forzar el estado PLAYING y ocultar overlay si el m√©todo no lo hace
            if (window.game && typeof window.game.startGame === 'function') {
              window.game.startGame();
              // Ocultar overlay por si acaso
              const overlay = document.getElementById('gameOverlay');
              if (overlay) overlay.style.display = 'none';
            }
          });
        }
      });
    </script>
  </body>
</html>