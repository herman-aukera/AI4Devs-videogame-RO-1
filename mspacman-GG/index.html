<!-- © GG, MIT License -->
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="GG" />
    <title>Ms. Pac-Man - GG Edition</title>
    <meta name="description" content="Ms. Pac-Man retro arcade game - AI4Devs collection" />
    <meta name="keywords" content="game, retro, arcade, mspacman, html5, canvas" />
    <meta name="theme-color" content="#FF00FF" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Ms. Pac-Man - GG Edition" />
    <meta property="og:description" content="Ms. Pac-Man retro arcade game with multiple mazes and moving fruit" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
    
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Navegación de retorno -->
    <nav class="game-navigation">
      <a href="../index.html" class="back-button">
        <span class="back-icon">⬅</span>
        <span class="back-text">INICIO</span>
      </a>
    </nav>

    <!-- Container principal del juego -->
    <main class="game-container">
      <header class="game-header">
        <h1 class="game-title">MS. PAC-MAN</h1>
        <div class="game-subtitle">GG EDITION</div>
      </header>

      <!-- HUD del juego -->
      <section class="game-hud">
        <div class="hud-item">
          <span class="hud-label">SCORE</span>
          <span class="hud-value" id="score">0</span>
        </div>
        <div class="hud-item">
          <span class="hud-label">MAZE</span>
          <span class="hud-value" id="maze">1</span>
        </div>
        <div class="hud-item">
          <span class="hud-label">HIGH SCORE</span>
          <span class="hud-value" id="highScore">0</span>
        </div>
      </section>

      <!-- Canvas del juego -->
      <div class="game-canvas-container">
        <canvas id="gameCanvas" width="380" height="420"></canvas>
        
        <!-- Overlay para estados del juego -->
        <div class="game-overlay" id="gameOverlay">
          <div class="overlay-content">
            <h2 class="overlay-title" id="overlayTitle">MS. PAC-MAN READY</h2>
            <p class="overlay-message" id="overlayMessage">Press ENTER to start</p>
            <button class="overlay-button" id="overlayButton">START GAME</button>
          </div>
        </div>
      </div>

      <!-- Controles móviles -->
      <section class="mobile-controls" id="mobileControls">
        <div class="control-dpad">
          <button class="dpad-btn dpad-up" data-direction="up">↑</button>
          <button class="dpad-btn dpad-left" data-direction="left">←</button>
          <button class="dpad-btn dpad-right" data-direction="right">→</button>
          <button class="dpad-btn dpad-down" data-direction="down">↓</button>
        </div>
        <div class="control-actions">
          <button class="action-btn action-pause">⏸</button>
          <button class="action-btn action-restart">↻</button>
        </div>
      </section>

      <!-- Panel de instrucciones -->
      <section class="instructions-panel" aria-label="Instrucciones del juego">
        <details class="instructions-details">
          <summary class="instructions-summary">
            <span class="summary-icon">❓</span>
            <span class="summary-text">¿Cómo jugar?</span>
          </summary>
          <div class="instructions-content">
            <div class="instruction-group">
              <h3 class="instruction-title">🎯 Objetivo</h3>
              <p>
                Recoge todas las píldoras evitando a los fantasmas. 🌟 <strong>Características únicas de Ms. Pac-Man:</strong>
                4 laberintos diferentes, frutas móviles que rebotan, e IA de fantasmas más impredecible.
              </p>
            </div>

            <div class="instruction-group">
              <h3 class="instruction-title">🕹️ Controles</h3>
              <div class="controls-grid">
                <div class="control-item">
                  <strong>Movimiento:</strong>
                  <span>Flechas ↑ ↓ ← → o WASD</span>
                </div>
                <div class="control-item">
                  <strong>Inicio:</strong>
                  <span>ENTER para comenzar</span>
                </div>
                <div class="control-item">
                  <strong>Pausa:</strong>
                  <span>Barra Espaciadora</span>
                </div>
              </div>
            </div>

            <div class="instruction-group">
              <h3 class="instruction-title">🎀 Diferencias con Pac-Man</h3>
              <ul>
                <li>🏠 <strong>4 Laberintos:</strong> Rosa, Cian, Amarillo y Verde</li>
                <li>🍎 <strong>Frutas Móviles:</strong> Rebotan por el laberinto</li>
                <li>🤖 <strong>IA Mejorada:</strong> Fantasmas más impredecibles</li>
                <li>🎨 <strong>Estilo Visual:</strong> Colores magenta y temática femenina</li>
              </ul>
            </div>

            <div class="instruction-group">
              <h3 class="instruction-title">📈 Progresión</h3>
              <p>
                🚀 <strong>Sistema de Laberintos:</strong> Completa un laberinto para avanzar al siguiente.
                Cada laberinto tiene patrones únicos y mayor dificultad.
              </p>
            </div>
          </div>
        </details>
      </section>
    </main>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
      // Hacer que el botón START GAME funcione igual que Enter
      document.addEventListener('DOMContentLoaded', function() {
        const overlayButton = document.getElementById('overlayButton');
        if (overlayButton) {
          overlayButton.addEventListener('click', function() {
            if (window.game && typeof window.game.startGame === 'function') {
              window.game.startGame();
              const overlay = document.getElementById('gameOverlay');
              if (overlay) overlay.style.display = 'none';
            }
          });
        }
      });
    </script>
  </body>
</html>
